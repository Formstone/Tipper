/*
 * Tipper v3.1.0 - 2014-10-29
 * A jQuery plugin for simple tooltips. Part of the formstone library.
 * http://formstone.it/tipper/
 *
 * Copyright 2014 Ben Plum; MIT Licensed
 */

!function(a){"use strict";function b(b){return u.formatter=e,l=a("body"),console.log(this.not("[data-"+k+"]")),this.filter(function(){return!a(this).data(k)}).data(k,a.extend({},u,b||{})).on(t,c)}function c(b){var c=a(b.currentTarget);m=a.extend(!0,{$target:c,left:b.pageX,top:b.pageY},c.data(k)||{},c.data(k+"-options")||{}),m.delay?m.timer=h(m.timer,m.delay,function(){d(c,m)}):d(c,m),m.$target.one(r,m,g),!m.follow&&m.match&&c.on(s,m,f).trigger(s)}function d(b,c){var d="";d+='<div class="'+[n,k+"-"+c.direction].join(" ")+'">',d+='<div class="'+o+'">',d+=c.formatter.call(b,c),d+='<span class="'+p+'"></span>',d+="</div>",d+="</div>",c.$tipper=a(d),l.append(c.$tipper),c.$content=c.$tipper.find(j(o)),c.$caret=c.$tipper.find(j(p)),c.offset=b.offset(),c.height=b.outerHeight(),c.width=b.outerWidth();var e={},g={},h={},i=c.$caret.outerHeight(!0),m=c.$caret.outerWidth(!0),r=c.$content.outerHeight(!0),t=c.$content.outerWidth(!0);"right"===c.direction||"left"===c.direction?(g.top=(r-i)/2,h.top=-r/2,"right"===c.direction?h.left=c.margin:"left"===c.direction&&(h.left=-(t+c.margin))):(g.left=(t-m)/2,h.left=-t/2,"bottom"===c.direction?h.top=c.margin:"top"===c.direction&&(h.top=-(r+c.margin))),c.$content.css(h),c.$caret.css(g),c.follow?c.$target.on(s,c,f).trigger(s):c.match?"right"===c.direction||"left"===c.direction?(e.top=c.top,"right"===c.direction?e.left=c.offset.left+c.width:"left"===c.direction&&(e.left=c.offset.left)):(e.left=c.left,"bottom"===c.direction?e.top=c.offset.top+c.height:"top"===c.direction&&(e.top=c.offset.top)):"right"===c.direction||"left"===c.direction?(e.top=c.offset.top+c.height/2,"right"===c.direction?e.left=c.offset.left+c.width:"left"===c.direction&&(e.left=c.offset.left)):(e.left=c.offset.left+c.width/2,"bottom"===c.direction?e.top=c.offset.top+c.height:"top"===c.direction&&(e.top=c.offset.top)),c.$tipper.css(e).addClass(q)}function e(){return this.data("title")}function f(a){var b=a.data,c={left:a.pageX,top:a.pageY};b.follow&&"undefined"!=typeof b.$tipper&&b.$tipper.css(c)}function g(a){var b=a.data;i(b.timer),"undefined"!=typeof b.$tipper&&(b.$tipper.remove(),b.$target.off([s,r].join(" ")),b=null)}function h(a,b,c){return i(a),setTimeout(c,b)}function i(a){a&&(clearTimeout(a),a=null)}function j(a){return"."+a}var k="tipper",l=null,m=null,n=k,o=k+"-content",p=k+"-caret",q=k+"-visible",r="mouseleave."+k,s="mousemove."+k,t="mouseenter."+k,u={delay:0,direction:"top",follow:!1,formatter:a.noop,margin:15,match:!1},v={defaults:function(b){return u=a.extend(u,b||{}),this},destroy:function(){return this.trigger(r).off(j(k)).removeData(k)}};a.fn[k]=function(a){return v[a]?v[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:b.apply(this,arguments)},a[k]=function(a){"defaults"===a&&v.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery);